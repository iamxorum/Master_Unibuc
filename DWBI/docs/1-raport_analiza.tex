\chapter{Descrierea Modelului Ales și a Obiectivelor Aplicației}
\label{sec:descriere}

\section{Modelul de date ales}

TickLy este un sistem de management al tichetelor de suport care permite gestionarea a cererilor de asistență de la clienți. Modelul de date ales este un \textbf{model entitate-relație} extins care suportă atât clienți persoane fizice, cât și juridice, cu un sistem flexibil de categorisire și urmărire a tichetelor.

Sistemul este organizat în două straturi principale:
\begin{itemize}
    \item \textbf{Baza de date OLTP} - pentru operațiunile transacționale zilnice (creare tichete, comentarii, asignări agenți)
    \item \textbf{Data Warehouse} - pentru analize și raportare (model stea pentru analize multidimensionale)
\end{itemize}

\section{Obiectivele Aplicației}

Obiectivele principale ale aplicației TickLy sunt:

\begin{enumerate}
    \item \textbf{Gestionarea a tichetelor de suport} - urmărirea completă a ciclului de viață al tichetelor de la creare până la rezolvare
    \item \textbf{Analiza performanțelor agenților} - monitorizarea timpului de rezolvare, numărul de tichete rezolvate, rating-urile primite
    \item \textbf{Analiza satisfacției clienților} - urmărirea feedback-ului și identificarea tendințelor
    \item \textbf{Optimizare} - analiza distribuției tichetelor pe departamente și agenți
    \item \textbf{Identificarea problemelor recurente} - analiza categoriilor și subiectelor pentru a identifica problemele cele mai frecvente
    \item \textbf{Raportare} - generarea de rapoarte pentru management
\end{enumerate}

\chapter{Diagramele Bazei de Date OLTP}
\label{sec:diagrame_oltp}

\section{Diagrama Entitate-Relație}
\label{subsec:er_diagram}

Diagrama entitate-relație a bazei de date OLTP este prezentată mai jos:
\begin{figure}[H]
    \centering
    \includegraphics[width=1.0\textwidth]{../schema/TickLy ER Diagram_Initiala.pdf}
    \caption{Diagrama Entitate-Relație a Bazei de Date OLTP}
    \label{fig:er_diagram}
\end{figure}

Baza de date OLTP conține următoarele: 

\subsubsection{Entități independente}

\begin{enumerate}
    \item \textbf{CLIENT} — entitate părinte pentru clienți
    \item \textbf{AGENT} — agenții de suport
    \item \textbf{PRIORITATE} — nivelurile de prioritate ale tichetelor
    \item \textbf{STATUS} — statusurile tichetelor
    \item \textbf{TOPIC} — entitate părinte pentru topic-urile asociate tichetelor
    \item \textbf{CATEGORIE} — categoriile pentru organizarea tichetelor
    \item \textbf{TAG} — tag-uri pentru etichetarea tichetelor
    \item \textbf{DEPARTAMENT} — departamentele organizației
\end{enumerate}

\textbf{Nota:} Categorie este o entitate de referinta catre categoria parinte.

\subsubsection{Entități dependente}

\begin{enumerate}
    \item \textbf{TICKET} — tichetele de suport
    \item \textbf{ATASAMENT} — atașamentele la tichete
    \item \textbf{KB\_ARTICLE} — documentație
    \item \textbf{FEEDBACK} — feedback-urile la tichete
    \item \textbf{SOLUTIE} — soluțiile la tichete
    \item \textbf{ADRESA} — adresele clientilor
\end{enumerate}

\subsubsection{Entități de tip IS-A}

\begin{enumerate}
    \item \textbf{CLIENT $\rightarrow$ CLIENT\_FIZICA / CLIENT\_JURIDICA} — clienți persoane fizice sau juridice
    \item \textbf{TOPIC $\rightarrow$ TOPIC\_SERVICIU / TOPIC\_PRODUS} — topic-uri de tip serviciu sau produs
\end{enumerate}

\subsubsection{Relații Many-to-Many}

Sistemul conține următoarele relații many-to-many (M:N), implementate prin tabele asociative:

\begin{itemize}
    \item \textbf{Ticket $\leftrightarrow$ Agent} (prin \texttt{TICKET\_AGENT}) - un ticket poate fi asignat mai multor agenți, iar un agent poate lucra la mai multe tichete
    \item \textbf{Ticket $\leftrightarrow$ Topic} (prin \texttt{TICKET\_TOPIC}) - un ticket poate fi asociat cu mai multe topic-uri, iar un topic poate fi asociat cu mai multe tichete
    \item \textbf{Agent $\leftrightarrow$ Departament} (prin \texttt{AGENT\_DEPARTAMENT}) - un agent poate aparține mai multor departamente, iar un departament poate avea mai mulți agenți
    \item \textbf{Ticket $\leftrightarrow$ Tag} (prin \texttt{TICKET\_TAG}) - un ticket poate avea mai multe tag-uri, iar un tag poate fi asociat cu mai multe tichete
    \item \textbf{Ticket $\leftrightarrow$ Client} (prin \texttt{COMMENT\_CLIENT}) - un ticket poate avea mai multe comentarii de la client, iar un client poate avea mai multe comentarii la tichete
    \item \textbf{Ticket $\leftrightarrow$ Agent} (prin \texttt{COMMENT\_AGENT}) - un ticket poate avea mai multe comentarii de la agent, iar un agent poate avea mai multe comentarii la tichete
\end{itemize}

\section{Diagrama Conceptuală Extinsă}
\label{subsec:conceptual_diagram}

Diagrama conceptuală extinsă a bazei de date OLTP este prezentată Mmai jos:
\begin{figure}[H]
    \centering
    \includegraphics[width=1.0\textwidth]{../schema/TickLy Conceptuală Extinsă.pdf}
    \caption{Diagrama Conceptuală Extinsă a Bazei de Date OLTP}
    \label{fig:conceptual_diagram}
\end{figure}

Această diagramă prezintă:
\begin{itemize}
    \item Toate entitățile și atributele acestora
    \item Relațiile între entități (1:1, 1:M, M:N)
    \item Cheile primare/străine
\end{itemize}

\chapter{Diagrama Stea/Fulg a Bazei de Date Depozit}
\label{sec:diagrama_stea}

\begin{figure}[H]
    \centering
    \includegraphics[width=1.0\textwidth]{../schema/TickLy Schema Stea Simplificata.pdf}
    \caption{Diagrama Stea a Bazei de Date Depozit}
    \label{fig:stea_diagram}
\end{figure}

\section{Structura Modelului Stea}

Modelul stea implementat pentru TickLy conține:

\subsubsection{Tabel de Fapte}

\begin{itemize}
    \item \textbf{FACT\_TICKET} - tabelul central de fapte care stochează măsurile și metricile asociate tichetelor
\end{itemize}

\subsubsection{Tabele Dimensiune}

\begin{enumerate}
    \item \textbf{DIM\_CLIENT} - dimensiunea clienților (Type 2 SCD pentru istoricizare)
    \item \textbf{DIM\_AGENT} - dimensiunea agenților (Type 2 SCD)
    \item \textbf{DIM\_DEPARTAMENT} - dimensiunea departamentelor (Type 2 SCD)
    \item \textbf{DIM\_CATEGORIE} - dimensiunea categoriilor (Type 1 SCD)
    \item \textbf{DIM\_TOPIC} - dimensiunea topic-urilor (Type 1 SCD)
    \item \textbf{DIM\_TAG} - dimensiunea tag-urilor (Type 1 SCD)
    \item \textbf{DIM\_TIME} - dimensiunea temporală pentru analize pe perioade
\end{enumerate}

\begin{itemize}
    \item \textbf{Nota - Type 1 SCD:} nu permite urmărirea istoricului modificărilor.
    \item \textbf{Nota - Type 2 SCD:} permite urmărirea istoricului modificărilor.
\end{itemize}

\section{Caracteristici ale Modelului}

\begin{itemize}
    \item \textbf{Slowly Changing Dimensions (SCD)}: Dimensiunile \texttt{DIM\_CLIENT}, \texttt{DIM\_AGENT} și \texttt{DIM\_DEPARTAMENT} sunt implementate ca Type 2 SCD, permițând urmărirea istoricului modificărilor
    \item \textbf{Degenerări}: Status și Prioritate sunt degenerate în tabelul de fapte (stocate direct în \texttt{FACT\_TICKET})
    \item \textbf{Dimensiune Conformată}: Dimensiunea temporală \texttt{DIM\_TIME}
\end{itemize}

